<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Koh Wei Xin - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">The Food Diary</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/cs2103-ay1819s2-w17-1/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Koh Wei Xin - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-fooddiary-span-class-image-img-src-images-ppp-kwx-png-alt-ppp-kwx-width-200-span"><a class="link" href="#project-fooddiary-span-class-image-img-src-images-ppp-kwx-png-alt-ppp-kwx-width-200-span">PROJECT: FoodDiary      <span class="image"><img src="../images/ppp-kwx.png" alt="ppp kwx" width="200"></span></a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project portfolio page documents my contributions to <strong><em>The Food Diary</em></strong>, a software engineering project undertaken as part of the Software Engineering module, CS2103T, during my undergraduate studies in the National University of Singapore (NUS).
This application is written in Java and has about 10,000 lines of code. It utilizes Command Line Interface (CLI) and has a Graphical User Interface (GUI) created using JavaFX.</p>
</div>
<div class="paragraph">
<p><strong><em>The Food Diary</em></strong> is a desktop application morphed from a basic CLI AddressBook.
Through our <strong>Software Engineering</strong> module, CS2103T, my team and I chose to morph the AddressBook into a The Food Diary for food lovers of all ages to document their very own food adventure.
In this project, I was tasked with enhancing the user&#8217;s experience by generating average ratings from their reviews for each restaurant.</p>
</div>
<div class="paragraph">
<p>The main features of <strong><em>The Food Diary</em></strong> include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding, editing and deleting restaurants</p>
</li>
<li>
<p>Adding, editing and deleting reviews</p>
</li>
<li>
<p>Getting average ratings for restaurants based on personal reviews</p>
</li>
<li>
<p>Get recommendations to new restaurants nearby</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is a <strong>note</strong>. A warning indicates important additional information that should be read.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This is a <strong>tip</strong>. A tip indicates good to know information that would improve your user experience.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of Contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following shows a summary of the contributions I made to this team project.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Major Enhancement</strong>: I added the ability to <strong>generate and display average restaurant data</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>What it does</strong>: Generates average rating from all the reviews of a restaurant and displays it as part of the restaurant&#8217;s information card as well as in its summary.</p>
</li>
<li>
<p><strong>Justification</strong>: This feature improves the product significantly because a user can now immediately see his/her personal ratings across all the visits they have made for a restaurant.</p>
</li>
<li>
<p><strong>Highlights</strong>: This enhancement required in-depth analysis of other alternatives before structuring its model. Additionally, it relied heavily on XML-based user interface markup language, FXML. Thus, I had to learn pick up this language from scratch to display this new <code>UiPart</code>.
The implementation was also challenging as it involved multiple components, namely <code>Model</code>, <code>Logic</code> and <code>Ui</code>, for it to work.</p>
</li>
<li>
<p><strong>Code Contributed</strong>: <a href="https://nus-cs2103-ay1819s2.github.io/cs2103-dashboard/#=undefined&amp;search=weixin-koh">Code Contributed</a></p>
<div class="ulist">
<ul>
<li>
<p>Functional Code: <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/103">#103</a></p>
</li>
<li>
<p>Test Code: <strong>[TBC]</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor Enhancement</strong>: I set up the <code>Review</code> class and added the ability to display all of the reviews belonging to a restaurant.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Code Contributed</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Functional Code: <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/25">#25</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/36">#36</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/74">#74</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/89">#89</a></p>
</li>
<li>
<p>Test Code: <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/36">#36</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/94">#94</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Other Contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Project Management</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Recorded all of our team&#8217;s user stories as issues. (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/issues?q=is%3Aissue+author%3Aweixin-koh+label%3Atype.Story">Issues</a>)</p>
</li>
<li>
<p>Consistent utilization issue tracker in recording bugs and referencing them in relevant PRs. (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/89">#89</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/94">#94</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/112">#112</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/113">#113</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Enhancements to Existing Features</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Enabled <code>Select</code> command to display not only the website for the restaurant, but also its list of reviews and summary. (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/74">#74</a>)</p>
</li>
<li>
<p>Changed logo and title of the application to <strong><em>The Food Diary</em></strong>. (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/74">#74</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Documentation</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide and Developer Guide (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/83">#83</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/77">#77</a>)</p>
<div class="ulist">
<ul>
<li>
<p>Examples of my design: <span class="image"><img src="../images/userguide.png" alt="userguide" width="150"></span> <span class="image"><img src="../images/Note.png" alt="Note" width="70"></span></p>
</li>
</ul>
</div>
</li>
<li>
<p>Updated pictures of the UI (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/6">#6</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/77">#77</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Community</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments) (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/95">#95</a>, <a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/102">#102</a>)</p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class <strong>[TBC]</strong></p>
</li>
<li>
<p>Always ensured that at least one teammate has reviewed and approved my PR before merging.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Tools</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Setup Reposense (<a href="https://github.com/CS2103-AY1819S2-W17-1/main/pull/83">#83</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. Since our project is a Food Diary targeted at food lovers, we have
come up with instructions on how to use the application for users of all ages. The following is an excerpt about the <code>select</code>
feature I enhanced, as well as the proposed features for sorting restaurants by rating and sharing reviews to Facebook.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="sorting-restaurants-by-rating-code-sort-code"><a class="link" href="#sorting-restaurants-by-rating-code-sort-code">Sorting restaurants by rating: <code>sort</code></a></h4>
<div class="paragraph">
<p>Sorting your restaurants from favourite to least favourite, or vice versa, has never been easier.
Order all of the restaurants in the Food Diary from highest to lowest ratings based on the average ratings you&#8217;ve given that restaurant in all your reviews for them.<br>
Format: <code>sort [or/ORDER] [l/LIMIT]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p><code>ORDER</code> can only take the form of <code>or/ASC</code> or <code>or/DES</code>, case-insensitive.</p>
<div class="ulist">
<ul>
<li>
<p>When <code>sort or/ASC</code> is executed, the list of restaurants returned will be in ascending order of ratings.</p>
</li>
<li>
<p>When <code>sort or/DES</code> is executed, the list of restaurants returned will be in descending order of ratings.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>LIMIT</code> <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
<li>
<p>If <code>LIMIT</code> you have entered is larger than the number of unique ratings in the list of restaurants, all of the restaurants in the sorted list will be shown.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Simply want to see your favourite restaurants? Enter the <code>sort</code> command without any parameters to see all of the restaurants, from highest to lowest rating!</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/sortasc.png" alt="sortasc" width="600">
</div>
</div>
<div class="paragraph">
<p>_Figure 1. Result obtained when the command <code>sort or/ASC l/2</code> is executed</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/sortdes.png" alt="sortdes" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 2. Result obtained when the command <code>sort or/DES l/2</code> is executed</em></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sort</code> or <code>sort or/DES</code>
Both will sort the list of restaurants in descending order of ratings.</p>
</li>
<li>
<p><code>sort or/asC</code> or <code>sort or/ASC</code><br>
Both will sort the list of restaurants in ascending order of ratings.</p>
</li>
<li>
<p><code>sort or/ASC l/2</code>
Your list of restaurants will be sorted in ascending order of ratings and only the restaurants with the lowest 2 ratings will be displayed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Restaurants with no reviews will have no ratings, and will thus have an <code>N.A.</code> rating. Restaurants with <code>N.A.</code> rating will come before
those with positive ratings if in ascending order, and at the end of the list if sorted in descending order.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="selecting-a-restaurant-code-select-code"><a class="link" href="#selecting-a-restaurant-code-select-code">Selecting a restaurant : <code>select</code></a></h4>
<div class="paragraph">
<p>Select a restaurant based on its index on the list and display information about it.<br>
Format: <code>select INDEX</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The index refers to the index number shown in the displayed restaurants list.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>select 3</code><br>
Selects the restaurant in the displayed restaurants list with index 3 and displays its summary, reviews and website.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/selectbefore.png" alt="selectbefore" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 1. Before selecting any restaurant</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/selectafter.png" alt="selectafter" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 2. After selecting restaurant with index 3, Chilis' summary, reviews and website are displayed in the second, third and fourth panels (from left to right) respectively</em>
==== Share to Facebook: <code>share</code> (Coming in v2.0)</p>
</div>
<div class="paragraph">
<p>Share your reviews to Facebook.<br>
Format: <code>share INDEX</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>You have to use <code>select</code> command to select a restaurant whose review will be shared.</p>
</li>
<li>
<p>The index refers to the index number of a review shown in the selected restaurant&#8217;s list of reviews.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Steps to share your review to Facebook:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select your desired restaurant by either clicking on it using a mouse or executing the <code>select INDEX</code> command, using its index number to replace <code>INDEX</code>.</p>
</li>
<li>
<p>Enter <code>share INDEX</code> command, replacing <code>INDEX</code> with the desired review&#8217;s index number to indicate the review to be shared.</p>
</li>
<li>
<p>Enter your login details when prompted by the Facebook pop-up.</p>
</li>
<li>
<p>Give write permission to The Food Diary post the review on your Facebook account. Rest assured that your account details would not be retained in The Food Diary to protect your privacy.</p>
</li>
<li>
<p>Click the <code>Share to Wall</code> button when prompted and you&#8217;ll see your review on your Facebook wall!</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>share 2</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You will not be able to share the review to Facebook if you do not allow The Food Diary write permission to your Facebook account.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="display-of-restaurants-and-restaurant-details"><a class="link" href="#display-of-restaurants-and-restaurant-details">Display of Restaurants and Restaurant Details</a></h3>
<div class="paragraph">
<p>In order to enhance user&#8217;s experience in the Food Diary, the <code>select</code> feature is enhanced and a new <code>sort</code> feature is implemented.
These two features complete the diary aspect of the application by generating total visits and average ratings from the user&#8217;s own reviews and allowing users to sort the restaurants to see their favourite ones.
This section describes the implementation of these two features.</p>
</div>
<div class="sect3">
<h4 id="select-feature"><a class="link" href="#select-feature">Select Feature</a></h4>
<div class="paragraph">
<p>The <code>select</code> feature displays a restaurant&#8217;s summary and reviews when it is selected.
The restaurant&#8217;s summary is made up its generated data, the average rating and total visits, which are calculated from the reviews of a restaurant in the <code>Summary</code> class.</p>
</div>
<div class="sect4">
<h5 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h5>
<div class="paragraph">
<p>The <code>select</code> feature is a pre-existing one from AddressBook Level 4.
The enhancement made is to display greater quantity and quality of restaurant information upon selection.</p>
</div>
<div class="paragraph">
<p>You can refer to <em>Figure 1</em> to see the chain of activities that happen when the <code>select</code> command is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SelectActivityDiagram.png" alt="SelectActivityDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 1. Activity Diagram for <code>select</code> command</em></p>
</div>
<div class="paragraph">
<p>The majors components involved in the implementation of this feature are the <code>FoodDiaryParser</code>, <code>SelectCommandParser</code> and <code>SelectCommand</code> classes. Their role in this implementation will be expounded on below.</p>
</div>
<div class="paragraph">
<p>The following describes how the <code>select</code> mechanism behaves at each step:</p>
</div>
<div class="paragraph">
<p>Step 1. The user executes <code>select INDEX</code> command, whereby <code>INDEX</code> is a positive integer within the range of indexes in the filtered restaurant list.</p>
</div>
<div class="paragraph">
<p>Step 2. The <code>FoodDiaryParser</code> parses the user&#8217;s input and constructs a <code>SelectCommandParser</code> object, which then parses the input index into an <code>Index</code> object and constructs a <code>SelectCommand</code> object.</p>
</div>
<div class="paragraph">
<p>Step 3. The <code>SelectCommand</code> is executed and calls on <code>Model#setSelectedRestaurant()</code> to set the selected restaurant to be the restaurant with the target <code>Index</code> in the current filtered restaurant list.</p>
</div>
<div class="paragraph">
<p>Step 4. The listeners in the <code>RestaurantSummaryPanel</code> and <code>ReviewListPanel</code> pick up the new value of the selected restaurant and loads the restaurant&#8217;s summary and reviews respectively onto the GUI.
The <code>RestaurantSummaryPanel</code> does so by calling its own <code>RestaurantSummaryPanel#loadSummary()</code> operation, which retrieves the selected restaurant&#8217;s attributes such as <code>Summary</code>, and through it,
the restaurant&#8217;s <code>avgRating</code> and <code>totalVisit</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A restaurant with no reviews is indicated with <code>totalVisits</code> = 0 and <code>avgRating</code> = -1. The number -1 is chosen as all user input <code>Ratings</code> can only be a number between [0,5], thus -1 is a clear
indication that there is no <code>avgRating</code> for the particular restaurant. This then allows a clear check that <code>avgRating</code> field displayed in the UI should be <code>N.A.</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There is no state change to the Food Diary as the <code>select</code> command only selects a restaurant from the current <code>FilteredList</code> of restaurants.
As such, this command cannot be undone or redone through the <code>undo</code> and <code>redo</code> commands respectively.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can refer to <em>Figure 2</em> for a better idea of the internal implementation flow when a <code>select</code> command is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SelectSequenceDiagram.png" alt="SelectSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 2. Sequence Diagram for <code>select</code> command</em></p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<div class="paragraph">
<p>Two guiding design patterns are applied to this feature:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Facade design pattern is used to allow access to <code>avgRating</code> and <code>totalVisit</code> of a <code>Restaurant</code> only through its <code>Summary</code> class.</p>
</li>
<li>
<p>The Observer pattern is also applied in the UI component as the <code>RestaurantSummaryPanel</code> and <code>ReviewListPanel</code> gets updated automatically once the selected restaurant is changed.</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="aspect-how-to-structure-the-summary-in-the-ui"><a class="link" href="#aspect-how-to-structure-the-summary-in-the-ui">Aspect: How to structure the Summary in the UI</a></h6>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (Current Choice): Implement <code>Summary</code> as a class in the <code>Restaurant</code> package</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applies Observer pattern and reduces duplicate code as calculation of <code>avgRating</code> only has to be done once in <code>Summary</code> class for it to be displayed on both <code>RestaurantCard</code> and <code>RestaurantSummaryPanel</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Results in coupling as it introduces dependency of <code>Summary</code> on <code>Review</code> class.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Alternative 2: Implement <code>Summary</code> as a UI component that listens to changes in the Review of the Restaurant</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reduces dependency within Model component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Increases duplicate code as <code>avgRating</code> of a Restaurant&#8217;s <code>Summary</code> is displayed in both the <code>RestaurantCard</code> and <code>RestaurantSummaryPanel</code> and will thus have to be calculated twice.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sort-feature"><a class="link" href="#sort-feature">Sort Feature</a></h4>
<div class="paragraph">
<p>The <code>sort</code> feature allows users to sort the restaurants in the Food Diary in ascending or descending order of ratings, and even limit the number of top/bottom ranked Restaurants shown.</p>
</div>
<div class="sect4">
<h5 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h5>
<div class="paragraph">
<p>The command format is <code>sort [or/ORDER] [l/LIMIT]</code> with optional <code>ORDER</code> and <code>LIMIT</code> parameters.
By default, the restaurants would be sorted in descending order of ratings with no limit applied.</p>
</div>
<div class="paragraph">
<p>You can refer to <em>Figure 3</em> below for a better understanding of the activity flow of the <code>sort</code> command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SortActivityDiagram.png" alt="SortActivityDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3. Activity Diagram for <code>sort</code> command</em></p>
</div>
<div class="paragraph">
<p>The majors components involved in the implementation of this feature are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FoodDiaryParser</code>, which parses the user&#8217;s input and constructs a <code>SelectCommandParser</code>, which then parses the input into <code>Order</code> and <code>Limit</code> and constructs a <code>SortCommand</code>.</p>
</li>
<li>
<p><code>SortRating</code>, which implements Comparator&lt;Restaurant&gt; and serves as a comparator to sort the restaurants in the Food Diary by its <code>avgRating</code>.
To construct this comparator, an <code>Order</code> has to be passed in to determine whether <code>SortRating#compare()</code> will be indicating ascending or descending order.</p>
</li>
<li>
<p><code>SortCommand</code>, contains 2 sub-classes, <code>Order</code> and <code>Limit</code>, which are used for the construction of <code>SortCommand</code>.
<code>SortCommand</code> is where the <code>SortRating</code> comparator is constructed and passed into the <code>Model#sortRestaurantList()</code> operation. The filtering of the sorted list to the <code>Limit</code>, if present, also takes place here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following shows how the sort mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user executes <code>sort [or/ORDER] [l/LIMIT]</code> command.</p>
</div>
<div class="paragraph">
<p>Step 2. The <code>FoodDiaryParser</code> parses the user&#8217;s input and constructs a <code>SortCommandParser</code> object, which then parses the inputs into <code>Order</code> and <code>Limit</code> objects, and constructs a <code>SortCommand</code> object using the <code>Order</code> and <code>Limit</code> constructed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is no order in the user&#8217;s input, the default <code>Order</code> will be constructed using the String <code>"DES"</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is no limit in the user&#8217;s input, an <code>Optional.empty()</code> object will be used in place of <code>Limit</code> in the construction of a <code>SortCommand</code> object.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The <code>SortCommand</code> is executed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 3.1. A <code>SortRating</code> comparator is constructed and <code>Model#sortRestaurantList()</code> call to sort the list of restaurants in the Food Diary.</p>
</li>
<li>
<p>Step 3.2. If <code>Limit</code> is present, <code>SortCommand#filterToLimit()</code> is called to get a <code>uniqueRatings</code> list from <code>Model#getUniqueRatings()</code> to get the borderline of the <code>avgRatings</code> to be included in the filtered list.
A predicate containing the borderline <code>avgRating</code> is then created and passed into <code>Model#updateFilteredRestaurantList()</code> to filter the sorted restaurant list. Else, if <code>Limit</code> is not present, the predicate passed
into <code>Model#updateFilteredRestaurantList()</code> to display all restaurants.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Step 4. The sorted restaurant list is then stored in the Food Diary via <code>Model#commitFoodDiary()</code>.</p>
</div>
<div class="paragraph">
<p>You can refer to <em>Figure 4</em> below for a more detailed idea of how <code>sort</code> command is implemented internally.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SortSequenceDiagram.png" alt="SortSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4. Sequence Diagram for <code>sort</code> command</em></p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>
<div class="sect5">
<h6 id="aspect-how-to-apply-the-code-limit-code"><a class="link" href="#aspect-how-to-apply-the-code-limit-code">Aspect: How to apply the <code>Limit</code></a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Let the <code>Limit</code> denote the number of ranks of restaurants to be displayed</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accurately shows the top/bottom ranked restaurants.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">More expensive operations required to limit ranks of restaurants as a unique ratings list has to be stored to get the limited ranks.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 2:</strong> Let the <code>Limit</code> denote the number of restaurants to be displayed</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">More intuitive to users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not provide an accurate depiction of top/bottom restaurants as multiple restaurants with the same ratings may not be displayed.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="aspect-whether-to-sort-the-restaurants-in-the-food-diary-permanently-or-temporarily"><a class="link" href="#aspect-whether-to-sort-the-restaurants-in-the-food-diary-permanently-or-temporarily">Aspect: Whether to sort the restaurants in the Food Diary permanently or temporarily</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Sort the restaurants permanently by saving the state of the Food Diary after command execution in <code>Model#commitFoodDiary()</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">More intuitive to users as they can undo the <code>sort</code> command and return to the previous state of the Food Diary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses more memory as the sorted list will be stored as a version of the Food Diary.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 2:</strong> Sort the restaurants temporarily by encapsulating <code>FilteredList</code> in a <code>SortedList</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Easy to implement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Might be jarring to users as the sorted state of the Food Diary would not be saved upon leaving the application and there is no way for the user to
         return to his/her originally ordered list of restaurants within the same window of use.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sorting-restaurant-list"><a class="link" href="#sorting-restaurant-list">Sorting restaurant list</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sorting entire restaurant list</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>sort</code><br>
Expected: All restaurants in the list are sorted in descending order of ratings.</p>
</li>
<li>
<p>Test case: <code>sort or/ASC</code><br>
Expected: All restaurants in the list are sorted in ascending order of ratings.</p>
</li>
<li>
<p>Test case: <code>sort or/dEs</code><br>
Expected: All restaurants in the list are sorted in descending order of ratings.</p>
</li>
<li>
<p>Test case: <code>sort or/1</code><br>
Expected: No restaurant is sorted. Error details shown in the status message to indicate wrong <code>ORDER</code> format.</p>
</li>
<li>
<p>Other incorrect select commands to try: <code>sort 1</code>, <code>sort or/ASCENDIng</code>, <code>sort or/deSCENDING</code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Sorting restaurant list and limiting to top/bottom ranking restaurants</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Scenario: There are 6 restaurants in the list.</p>
</li>
<li>
<p>Test case: <code>sort l/2</code><br>
Expected: All restaurants in the list are sorted in descending order of ratings, restaurants with the 2 highest ratings are displayed in descending order of ratings.</p>
</li>
<li>
<p>Test case: <code>sort or/ASC l/2</code><br>
Expected: All restaurants in the list are sorted in ascending order of ratings, restaurants with the 2 lowest ratings are displayed in ascending order of ratings.</p>
</li>
<li>
<p>Test case: <code>sort or/dEs l/10</code><br>
Expected: All restaurants in the list are sorted in descending order of ratings. Status message indicates that restaurants with top 10 (the limit input by user) rankings are sorted in descending order.</p>
</li>
<li>
<p>Test case: <code>sort l/-10</code><br>
Expected: No restaurant is sorted. Error details shown in the status message to indicate wrong <code>LIMIT</code> format.</p>
</li>
<li>
<p>Other incorrect select commands to try: <code>sort l/-20</code>, <code>sort or/asc l/1.567</code>, <code>sort or/des l/0</code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 15:09:26 UTC</div></div></div></body></html>